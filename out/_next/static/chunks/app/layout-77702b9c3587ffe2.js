(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5658:()=>{},7567:(t,e,a)=>{Promise.resolve().then(a.bind(a,693)),Promise.resolve().then(a.t.bind(a,5041,23)),Promise.resolve().then(a.t.bind(a,3379,23)),Promise.resolve().then(a.bind(a,4702)),Promise.resolve().then(a.bind(a,983))},7711:(t,e,a)=>{"use strict";a.d(e,{Z:()=>s});var r=a(4650),o=a(2008);function s(){return(0,r.jsx)("div",{className:"h-screen w-screen flex justify-center items-center bg-background",children:(0,r.jsx)(o.xz6,{className:"text-5xl animate-spin text-white"})})}},4702:(t,e,a)=>{"use strict";a.d(e,{AuthProvider:()=>i,a:()=>d});var r=a(4650),o=a(7711),s=a(1441),c=a(3064);let n=(0,c.createContext)(),l="https://proxy-api-8pes.onrender.com",i=t=>{let{children:e}=t,[a,i]=(0,c.useState)(null),[d,h]=(0,c.useState)(!0),u=()=>{let t=localStorage.getItem("token");t&&(console.log("debug setting header",t),s.Z.defaults.headers.common.Authorization="Bearer ".concat(t))};(0,c.useEffect)(()=>{let t=localStorage.getItem("token");t?s.Z.get("".concat(l,"/api/auth/me"),{headers:{Authorization:"Bearer ".concat(t)}}).then(t=>{i(t.data),u(),h(!1)}).catch(()=>{localStorage.removeItem("token")}):h(!1)},[]);let g=async(t,e)=>{try{let{data:a}=await s.Z.post("".concat(l,"/api/auth/login"),{email:t,password:e});return localStorage.setItem("token",a.token),i(a.user),u(),a}catch(t){throw Error(t.response.data.message)}},p=async(t,e,a)=>{try{let{data:r}=await s.Z.post("".concat(l,"/api/auth/signup"),{email:t,password:e,confirmPassword:a});return localStorage.setItem("token",r.token),i(r.user),u(),r}catch(t){throw Error(t.response.data.message)}};return d?(0,r.jsx)(o.Z,{}):(0,r.jsx)(n.Provider,{value:{userData:a,login:g,signup:p,logout:()=>{localStorage.removeItem("token"),i(null),u()},loading:d},children:e})},d=()=>(0,c.useContext)(n)},983:(t,e,a)=>{"use strict";a.d(e,{BotProvider:()=>i,N:()=>d});var r=a(4650),o=a(3064),s=a(1441),c=a(9261);a.n(c)().config();let n="https://proxy-api-8pes.onrender.com",l=(0,o.createContext)(),i=t=>{let{children:e}=t,[a,c]=(0,o.useState)([]),[i,d]=(0,o.useState)({}),[h,u]=(0,o.useState)([]),[g,p]=(0,o.useState)([]),[y,f]=(0,o.useState)([]),[m,v]=(0,o.useState)([]),[S,w]=(0,o.useState)(!1),x=async()=>{w(!0);try{let t=await s.Z.get("".concat(n,"/api/status"));t.data?d(t.data):console.error("Failed to fetch Bot Status:",t.data)}catch(t){console.error("Error fetching Bot Status:",t)}finally{w(!1)}},b=async()=>{w(!0);try{let t=await s.Z.get("".concat(n,"/api/symbols"));t.data?c(t.data):console.error("Failed to fetch Symbols:",t.data)}catch(t){console.error("Error fetching Symbols:",t)}finally{w(!1)}},E=async()=>{w(!0);try{let t=await s.Z.get("".concat(n,"/api/balance"));t.data?u(t.data):console.error("Failed to fetch Balances:",t.data)}catch(t){console.error("Error fetching Balances:",t)}finally{w(!1)}},k=async()=>{w(!0);try{let t=await s.Z.get("".concat(n,"/api/history"));t.data?f(t.data):console.error("Failed to fetch History:",t.data)}catch(t){console.error("Error fetching History:",t)}finally{w(!1)}},Z=async()=>{w(!0);try{let t=await s.Z.get("".concat(n,"/api/trades"));t.data?v(t.data):console.error("Failed to fetch Trades:",t.data)}catch(t){console.error("Error fetching Trades:",t)}finally{w(!1)}},P=async()=>{w(!0);try{let t=await fetch("https://api.binance.com/api/v3/ticker/price"),e=await t.json();e?p(e):console.error("Failed to fetch Prices:",e)}catch(t){console.error("Error fetching Prices:",t)}finally{w(!1)}},B=async t=>{console.log("log->start params",t);let e=await s.Z.post("".concat(n,"/api/start"),t);return console.log("log->start res",e),x(),e.data},j=async()=>{let t=await s.Z.get("".concat(n,"/api/stop"));return x(),t.data},F=async t=>{console.log("log->restart params",t);try{let e=await s.Z.post("".concat(n,"/api/restart"),t);console.log("log->restart res",e),e.data.success||console.error("Failed to restart Bot:",e.data)}catch(t){console.error("Error restart Bot:",t)}finally{x()}};return(0,o.useEffect)(()=>{console.log("log->useEffect"),setInterval(()=>{x(),E()},6e4),b(),x(),E(),k(),P(),Z()},[]),(0,r.jsx)(l.Provider,{value:{status:i,loading:S,symbols:a,balances:h,history:y,trades:m,prices:g,startBot:B,stopBot:j,restartBot:F,fetchHistory:k,fetchTrades:Z,fetchBalances:E,fetchPrices:P,fetchStatus:x},children:e})},d=()=>(0,o.useContext)(l)},3379:()=>{},5041:()=>{}},t=>{var e=e=>t(t.s=e);t.O(0,[244,399,442,222,403,693,947,170,744],()=>e(7567)),_N_E=t.O()}]);