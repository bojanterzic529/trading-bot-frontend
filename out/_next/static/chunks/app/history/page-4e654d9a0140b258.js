(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{5658:()=>{},9330:(e,t,a)=>{Promise.resolve().then(a.bind(a,7887))},2195:(e,t,a)=>{"use strict";var r=a(2741);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},7887:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(4650),s=a(3064),o=a(2195),c=a(5907),n=a(4702),l=a(7711),i=a(983);function d(){let e=(0,o.useRouter)(),{userData:t}=(0,n.a)();(0,s.useEffect)(()=>{if(!t)return e.push("/login");d(!1)},[t]);let[a,d]=(0,s.useState)(!1),[u,h]=(0,s.useState)("mexc"),{loading:x,history:m}=(0,i.N)();return a?(0,r.jsx)(l.Z,{}):(0,r.jsx)("div",{className:"flex py-2 justify-center items-center min-h-screen bg-background-dark text-white/65",children:(0,r.jsxs)("div",{className:"w-[98%] flex flex-col p-4 rounded-md bg-background theme-border",children:[(0,r.jsx)(c.Z,{}),(0,r.jsx)("div",{className:"grid grid-rows-4 lg:grid-rows-1 lg:grid-cols-4 gap-4 mb-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-semibold uppercase",children:"Exchange"}),(0,r.jsx)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full p-2 mt-1 bg-background text-sm theme-border rounded-md outline-none",children:(0,r.jsx)("option",{value:"mexc",children:"MEXC"})})]})}),(0,r.jsx)("div",{className:"overflow-y-auto max-h-[600px] rounded-md theme-border",children:(0,r.jsxs)("table",{className:"w-full text-sm min-w-[960px]",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-background-light text-left overflow-y-auto grid grid-cols-[75px_1.5fr_0.5fr_0.5fr_0.5fr_0.5fr] uppercase font-bold",children:[(0,r.jsx)("th",{className:"py-2 px-4 flex items-center",children:"Pir"}),(0,r.jsx)("th",{className:"py-2 px-4 font-semibold text-center text-nowrap",children:"Date"}),(0,r.jsx)("th",{className:"py-2 px-4 font-semibold text-nowrap",children:"Side"}),(0,r.jsx)("th",{className:"py-2 px-4 font-semibold text-nowrap",children:"Price"}),(0,r.jsx)("th",{className:"py-2 px-4 font-semibold text-center text-nowrap",children:"Amount"}),(0,r.jsx)("th",{className:"py-2 px-4 font-semibold text-center text-nowrap",children:"Amount"})]})}),(0,r.jsx)("tbody",{})]})})]})})}},5907:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var r=a(4650),s=a(4702),o=a(2195);function c(){let{logout:e}=(0,s.a)();return(0,o.useRouter)(),(0,r.jsxs)("div",{className:"flex justify-between items-center rounded-t-md",children:[(0,r.jsxs)("h1",{className:"text-lg font-semibold text-white uppercase",children:["Crypto ",(0,r.jsx)("span",{className:"text-foreground",children:"Trading"})," Bot"]}),(0,r.jsx)("div",{className:"flex items-center rounded-t-md",children:(0,r.jsx)("button",{className:"bg-background-light text-white px-4 py-2 text-sm rounded-md font-semibold flex gap-1 items-center uppercase",onClick:e,children:"Sign Out"})})]})}},7711:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(4650),s=a(2008);function o(){return(0,r.jsx)("div",{className:"h-screen w-screen flex justify-center items-center bg-background",children:(0,r.jsx)(s.xz6,{className:"text-5xl animate-spin text-white"})})}},4702:(e,t,a)=>{"use strict";a.d(t,{AuthProvider:()=>i,a:()=>d});var r=a(4650),s=a(7711),o=a(1441),c=a(3064);let n=(0,c.createContext)(),l="http://95.216.67.25:5000",i=e=>{let{children:t}=e,[a,i]=(0,c.useState)(null),[d,u]=(0,c.useState)(!0);(0,c.useEffect)(()=>{let e=localStorage.getItem("token");e&&o.Z.get("".concat(l,"/api/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{i(e.data)}).catch(()=>{localStorage.removeItem("token")}),u(!1)},[]);let h=async(e,t)=>{try{let{data:a}=await o.Z.post("".concat(l,"/api/auth/login"),{email:e,password:t});return localStorage.setItem("token",a.token),i(a.user),a}catch(e){throw Error(e.response.data.message)}},x=async(e,t,a)=>{try{let{data:r}=await o.Z.post("".concat(l,"/api/auth/signup"),{email:e,password:t,confirmPassword:a});return localStorage.setItem("token",r.token),i(r.user),r}catch(e){throw Error(e.response.data.message)}};return d?(0,r.jsx)(s.Z,{}):(0,r.jsx)(n.Provider,{value:{userData:a,login:h,signup:x,logout:()=>{localStorage.removeItem("token"),i(null)},loading:d},children:t})},d=()=>(0,c.useContext)(n)},983:(e,t,a)=>{"use strict";a.d(t,{BotProvider:()=>i,N:()=>d});var r=a(4650),s=a(3064),o=a(1441),c=a(9261);a.n(c)().config();let n="http://95.216.67.25:5000",l=(0,s.createContext)(),i=e=>{let{children:t}=e,[a,c]=(0,s.useState)([]),[i,d]=(0,s.useState)({}),[u,h]=(0,s.useState)([]),[x,m]=(0,s.useState)([]),[p,g]=(0,s.useState)(!1),f=async()=>{g(!0);try{let e=await o.Z.get("".concat(n,"/api/status"));e.data?d(e.data):console.error("Failed to fetch Bot Status:",e.data)}catch(e){console.error("Error fetching Bot Status:",e)}finally{g(!1)}},y=async()=>{g(!0);try{let e=await o.Z.get("".concat(n,"/api/symbols"));e.data?c(e.data):console.error("Failed to fetch Symbols:",e.data)}catch(e){console.error("Error fetching Symbols:",e)}finally{g(!1)}},b=async()=>{g(!0);try{let e=await o.Z.get("".concat(n,"/api/balance"));e.data?h(e.data):console.error("Failed to fetch Balances:",e.data)}catch(e){console.error("Error fetching Balances:",e)}finally{g(!1)}},j=async()=>{g(!0);try{let e=await o.Z.get("".concat(n,"/api/history"));e.data?m(e.data):console.error("Failed to fetch Balances:",e.data)}catch(e){console.error("Error fetching Balances:",e)}finally{g(!1)}},w=async e=>{console.log("log->start params",e);let t=await o.Z.post("".concat(n,"/api/start"),e);return console.log("log->start res",t),f(),t.data},v=async()=>{let e=await o.Z.get("".concat(n,"/api/stop"));return f(),e.data},N=async e=>{console.log("log->restart params",e);try{let t=await o.Z.post("".concat(n,"/api/restart"),e);console.log("log->restart res",t),t.data.success||console.error("Failed to restart Bot:",t.data)}catch(e){console.error("Error restart Bot:",e)}finally{f()}};return(0,s.useEffect)(()=>{console.log("log->useEffect"),setInterval(()=>{f(),b()},5e3),y(),f(),b(),j()},[]),(0,r.jsx)(l.Provider,{value:{status:i,loading:p,symbols:a,balances:u,history:x,startBot:w,stopBot:v,restartBot:N,fetchHistory:j},children:t})},d=()=>(0,s.useContext)(l)}},e=>{var t=t=>e(e.s=t);e.O(0,[399,442,222,700,947,170,744],()=>t(9330)),_N_E=e.O()}]);